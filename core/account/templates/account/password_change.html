{% extends "account/base.html" %}
{% load static %}

{% block title %}Change Password{% endblock title %}

{% block script %}
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock script %}

{% block content %}
<form class="account_form" action="." method="post">
    {% csrf_token %}
    <h2>Change Password</h2>
    <div class="form_section">
        <label for="old_password">Old Password</label>
        <input type="password" id="old_password" name="old_password" required>
        {% if form.old_password.errors %}
            <ul class="error_list">
                {% for error in form.old_password.errors %}
                    <li class="error">{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div class="form_section">
        <label for="new_password1">New Password</label>
        <input type="password" id="new_password1" name="new_password1" required>
        {% if form.new_password1.errors %}
            <ul class="error_list">
                {% for error in form.new_password1.errors %}
                    <li class="error">{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div class="form_section">
        <label for="new_password2">Confirm New Password</label>
        <input type="password" id="new_password2" name="new_password2" required>
        {% if form.new_password2.errors %}
            <ul class="error_list">
                {% for error in form.new_password2.errors %}
                    <li class="error">{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    {{ form.captcha }}
    <div class="form_section">
        <input type="submit" value="Change Password">
    </div>
    <div class="form_section">
        {% if form.non_field_errors %}
            <ul class="error_list">
                {% for error in form.non_field_errors %}
                    <li class="error">{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
</form>
{% endblock content %}